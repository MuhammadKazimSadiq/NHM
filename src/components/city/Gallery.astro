---
import { Image } from "astro:assets";
const { gallery } = Astro.props;
---

<section class="py-4">

  {/* First full-width image */}
  {gallery.length > 0 && (
    <div class="relative w-full h-80 md:h-120">
      <Image
        src={gallery[0].src}
        alt={gallery[0].alt}
        class="absolute inset-0 w-full h-full object-cover"
        loading="eager"
      />
      {gallery[0].text && (
        <>
          <div class="absolute inset-0 bg-black/40"></div>
          <div class="absolute inset-0 flex items-center justify-center z-10 px-6">
            <h2 class="text-white text-2xl md:text-3xl text-center tracking-wide mt-8 w-3/4 font-heading leading-loose">
              {gallery[0].text}
            </h2>
          </div>
        </>
      )}
    </div>
  )}

  {/* Rest of the images in grid */}
  {gallery.length > 1 && (
    <div class="max-w-7xl mx-auto mt-4 px-2 md:px-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
      {gallery.slice(1).map((item, index) => (
        <div class="relative overflow-hidden rounded-xl h-120 md:h-160">
          <Image
            src={item.src}
            alt={item.alt}
            class="absolute inset-0 w-full h-full object-cover"
            loading="lazy"
          />
        </div>
      ))}
    </div>
  )}

</section>